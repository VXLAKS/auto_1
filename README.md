# üí≥ Credit Scoring: Industrial Deployment Pipeline (MLOps Stage 2)

–î–∞–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Ñ–∏–Ω–∞–ª—å–Ω—É—é —Å—Ç–∞–¥–∏—é —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å–∏—Å—Ç–µ–º—ã –∫—Ä–µ–¥–∏—Ç–Ω–æ–≥–æ —Å–∫–æ—Ä–∏–Ω–≥–∞. –ü—Ä–æ–µ–∫—Ç –ø–µ—Ä–µ–≤–µ–¥–µ–Ω –∏–∑ —Ñ–æ—Ä–º–∞—Ç–∞ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –Ω–æ—É—Ç–±—É–∫–∞ –≤ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤—É—é –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–æ–º –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º.

---

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ —É–ª—É—á—à–µ–Ω–∏—è

### 1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞ (Inference Optimization)

* **–§–æ—Ä–º–∞—Ç ONNX:** –ú–æ–¥–µ–ª—å –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–∞ –∏–∑ PyTorch –≤ —Ñ–æ—Ä–º–∞—Ç Open Neural Network Exchange (ONNX) –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç—è–∂–µ–ª—ã—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ.
* **–ë–µ–Ω—á–º–∞—Ä–∫–∏–Ω–≥:** –ü—Ä–æ–≤–µ–¥–µ–Ω–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã PyTorch –∏ ONNX. –í—ã–±—Ä–∞–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–∞ –±–∞–∑–µ **ONNX Runtime**, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∞—è –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π Latency –Ω–∞ CPU-–∏–Ω—Ñ–µ—Ä–µ–Ω—Å–µ.
* **–ö–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏–µ:** –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ö–∞–Ω–∏–∑–º –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏—è (Dynamic Quantization) –≤–µ—Å–æ–≤ –º–æ–¥–µ–ª–∏ –≤ —Ñ–æ—Ä–º–∞—Ç `INT8`, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å —Ä–∞–∑–º–µ—Ä –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –±–µ–∑ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–π –ø–æ—Ç–µ—Ä–∏ —Ç–æ—á–Ω–æ—Å—Ç–∏.

### 2. Infrastructure as Code (IaC) & Cloud

* **Terraform:** –í—Å—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (VPC, –ø–æ–¥—Å–µ—Ç–∏, Managed Kubernetes Cluster) –æ–ø–∏—Å–∞–Ω–∞ –≤ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–º —Å—Ç–∏–ª–µ –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –≤ **Yandex Cloud**.
* **Kubernetes (K8s):** –°–æ–∑–¥–∞–Ω—ã –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã –¥–ª—è –¥–µ–ø–ª–æ—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **Deployment** (3 —Ä–µ–ø–ª–∏–∫–∏ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏) –∏ **Service** (—Ç–∏–ø LoadBalancer).
* **Health Checks:** –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã `Liveness` –∏ `Readiness` –ø—Ä–æ–±—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤ —Å–ª—É—á–∞–µ —Å–±–æ–µ–≤.

### 3. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –∏ CI/CD

* **Multi-stage Docker Build:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω–æ–π —Å–±–æ—Ä–∫–∏ –ø–æ–∑–≤–æ–ª–∏–ª–æ —Å–æ–∫—Ä–∞—Ç–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –æ–±—Ä–∞–∑–∞, –∏—Å–∫–ª—é—á–∏–≤ –∏–∑ –Ω–µ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏.
* **GitHub Actions:** –ù–∞—Å—Ç—Ä–æ–µ–Ω –ø–∞–π–ø–ª–∞–π–Ω –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏, –≤–∫–ª—é—á–∞—é—â–∏–π:
* –õ–∏–Ω—Ç–∏–Ω–≥ –∫–æ–¥–∞.
* –ü—Ä–æ–≤–µ—Ä–∫—É —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥—Ä–∏—Ñ—Ç–∞ –¥–∞–Ω–Ω—ã—Ö.



### 4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ Data Drift

* **Evidently AI:** –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∞ –¥—Ä–∏—Ñ—Ç–∞ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤. –ü—Ä–∏ –∫–∞–∂–¥–æ–π —Å–±–æ—Ä–∫–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –≤–∏–∑—É–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç (`reports/data_drift_report.html`).
* **–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏:** –í —Ö–æ–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –±—ã–ª–∞ —É—Å–ø–µ—à–Ω–æ —Ä–µ—à–µ–Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ **NumPy 2.0** –∏ Evidently AI —á–µ—Ä–µ–∑ —Ñ–∏–∫—Å–∞—Ü–∏—é –≤–µ—Ä—Å–∏–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Dependency Pinning), —á—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Å–±–æ—Ä–∫–∏.

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```text
‚îú‚îÄ‚îÄ .github/workflows/  # CI/CD –ø–∞–π–ø–ª–∞–π–Ω—ã (GitHub Actions)
‚îú‚îÄ‚îÄ terraform/          # –û–ø–∏—Å–∞–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã Yandex Cloud (IaC)
‚îú‚îÄ‚îÄ k8s/                # –ú–∞–Ω–∏—Ñ–µ—Å—Ç—ã Kubernetes (Deploy, Service)
‚îú‚îÄ‚îÄ scripts/            # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ benchmark.py    # –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ PT/ONNX
‚îÇ   ‚îú‚îÄ‚îÄ check_drift.py  # –ê–Ω–∞–ª–∏–∑ –¥—Ä–∏—Ñ—Ç–∞ (Evidently AI)
‚îÇ   ‚îî‚îÄ‚îÄ quantize_model.py # –ö–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏
‚îú‚îÄ‚îÄ models/             # –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ model.onnx      # –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –º–æ–¥–µ–ª—å
‚îÇ   ‚îî‚îÄ‚îÄ scaler.pkl      # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∏ (StandardScaler)
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ api/            # FastAPI —Å–µ—Ä–≤–µ—Ä –Ω–∞ –±–∞–∑–µ ONNX Runtime
‚îÇ   ‚îî‚îÄ‚îÄ models/         # –ö–æ–¥ –æ–±—É—á–µ–Ω–∏—è –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ (PyTorch)
‚îú‚îÄ‚îÄ Dockerfile          # –ú–Ω–æ–≥–æ—Å—Ç–∞–¥–∏–π–Ω–∞—è —Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
‚îî‚îÄ‚îÄ requirements.txt    # –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫

```

---

## üõ† –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É

### 1. –õ–æ–∫–∞–ª—å–Ω—ã–π –∏–Ω—Ñ–µ—Ä–µ–Ω—Å —á–µ—Ä–µ–∑ Docker

–°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ API –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ:

```bash
docker build -t credit-scoring-api .
docker run -p 8000:8000 credit-scoring-api

```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Swagger –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8000/docs`

### 2. –ó–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –¥—Ä–∏—Ñ—Ç–∞

–î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ HTML-–æ—Ç—á–µ—Ç–∞ –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö:

```bash
python scripts/check_drift.py

```

### 3. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

–¢—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π Terraform –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –æ–±–ª–∞–∫—É:

```bash
cd terraform
terraform init
terraform apply

```

---

## üìà –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

–í –ø—Ä–æ–µ–∫—Ç–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è (Data Drift) –≤ –ø—Ä–∏–∑–Ω–∞–∫–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, `LIMIT_BAL` –∏–ª–∏ `AGE`), –ø–∞–π–ø–ª–∞–π–Ω —Å–∏–≥–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏.

---
